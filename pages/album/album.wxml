<!--pages/album/album.wxml-->

<wxs module="url_helper">
var concat = function(flora) {
  var url = undefined;
  url = "http://"+ "47.74.251.157" + "/" + flora.filePath + flora.fileName;
  return url;
}

var select_by_month = function(flora,month) {
  var url = undefined;
  url = "http://"+ "47.74.251.157" + "/" + flora.filePath + flora.fileName;
  return url;
}

module.exports.concat = concat;

</wxs>


<view class="page">
    <view class="page__hd">
        <text class="page__title">Album</text>
        <text class="page__desc">美好的时光。</text>
    </view>

    <view class="section section_gap">

      <view class="section" wx:for="{{[1,2,3,4,5,6,7,8,9,10,11,12]}}" wx:for-item="month" >
        <view wx:if = "{{flora_by_month[month]}}">

          <view>
          <text class="page__desc">{{months[month]}}</text>
          </view>
          <view class="image-list">
          <block wx:for="{{flora_by_month[month]}}" wx:key="id">
                 <image style="width: 100px; height:100px" src= "{{url_helper.concat(item)}}" mode="aspectFill" data-month="{{month}}" data-idx="{{index}}" data-id="{{item.id}}" bindtap='previewImage' bindlongpress='bindLongPress'/>
          </block>
          </view>
        </view>
      </view>

        <!---view class="image-list" wx:for="{{flora}}" wx:key="id">
          <view class="image-image" bindlongpress="bindLongPress" data-index="{{index}}">
              <image src= "{{url_helper.concat(item)}}"  mode="widthFix"/>
          </view>
          <text class="page__desc">{{item.floraName}}</text>
          <text class="page__desc">{{item.dateTimeDigitized}}</text>
        </view>-->

    <!--view class="section section_gap">
        <view class="image-list" wx:for="{{imageUrlList}}" wx:key="url">
          <view class="image-image" bindlongpress="bindLongPress" data-index="{{index}}">
              <image src= "{{item.url}}"  mode="widthFix"/>
          </view>
          <text class="page__desc">{{item.name}}</text>
          <text class="page__desc">{{item.dateTimeDigitized}}</text>
        </view>-->


        <!--<view class="swiperContainer">    
            <swiper bindchange="swiperChange" indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}">        
                <block wx:for="{{imageUrlList}}" wx:key="url">
                  <swiper-item>  <image src="{{item.url}}"        class="slide-image" mode="widthFix"/>            
                  </swiper-item>        
                </block>    
            </swiper>
               
    <view class="imageCount">{{current+1}}/{{imageUrlList.length}}     
        </view> -->

    </view>
    
</view>


